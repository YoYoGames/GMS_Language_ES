<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Entrada del Gamepad</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference section for Gamepad Input" />
  <meta name="rh-index-keywords" content="gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
  <meta name="search-keywords" content="Gamepad Input,gamepads,gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>GamepadInput</h1>
  <p><b></b><span class="notranslate">GameMaker Studio 2</span> tiene una serie de funciones dedicadas que pueden utilizarse para detectar los controles analógicos y digitales de varios gamepads conectados. Estas funciones funcionan de forma similar a las <a href="../Device_Input/Device_Input.htm">Entradas de Dispositivo</a>
    en el sentido de que puedes detectar hasta cuatro gamepads XInput diferentes que estén conectados (y hasta 8 gamepads DirectInput) y tratar la entrada de cada uno utilizando las mismas funciones. Tenga en cuenta que cuando un gamepad se conecta a su dispositivo (o se retira)
    entonces se dispara un <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events.htm">Evento de Sistema</a> asíncrono donde puedes tratar la situación usando las funciones apropiadas.</p>
  <p>Las &quot;ranuras&quot; del gamepad están indexadas de 0 en adelante, y la ranura real que se asigna a un gamepad dependerá de una variedad de factores, entre los que destaca el sistema operativo en el que se ejecuta el proyecto. En el <strong><span class="notranslate">Windows</span></strong> objetivo, las ranuras 0 -
    3 inclusive son <i>sólo para gamepads Xinput</i>, es decir, mandos de Xbox360 y compatibles. Sin embargo, también puede comprobar las ranuras 4 - 11 inclusive para gamepads <i>DirectInput</i>, lo que significa que puede detectar muchos otros modelos de controlador cuando se conecta
    a través de estas ranuras. En otras plataformas, los pads pueden ser detectados en <em>cualquier</em> ranura que el sistema operativo le haya asignado, que podría ser la ranura 3 o la ranura 20 o más. Por ejemplo, <strong><span class="notranslate">Android</span></strong> dispositivos almacenarán gamepads bluetooth en una ranura y luego reservarán
    esa ranura para ese gamepad en el futuro, tanto si está conectado como si no, por lo que <em>no se puede</em> asumir que un solo gamepad conectado está conectado a la ranura 0, ya que probablemente no será así.</p>
  <p>Hay que tener en cuenta que cuando se utilizan gamepads DirectInput en <span class="notranslate">Windows</span>, o gamepads genéricos en otras plataformas, las constantes que se dan a continuación <strong>pueden no coincidir exactamente con los botones que se esperan cuando se pulsan</strong>, debido a la forma fragmentada y
    fragmentada y no estandarizada que implementan los fabricantes de mandos. Por ello, se recomienda tener algún tipo de pantalla de configuración del gamepad en los juegos en la que se puedan redefinir los botones del gamepad en función de la entrada de cualquier dispositivo conectado.
    (hay funciones de &quot;mapeo&quot; del gamepad que pueden ayudar en <span class="notranslate">los objetivos de</span> Windows <span class="notranslate">Desktop,</span> Ubuntu, <span class="notranslate">macOS</span> y Android, mientras que en todos los demás tendrías que hacerlo tú mismo mediante código).</p>
  <h2>Constantes de entrada</h2>
  <p>Cuando se trabaja con las funciones del gamepad, la entrada puede provenir de <strong>ejes</strong>, <strong>botones</strong> o <strong>sombreros</strong>, que <span class="notranslate">GameMaker Studio 2</span> asignará a las siguientes constantes incorporadas (tenga en cuenta que los &quot;sombreros&quot; generalmente sólo se detectan en los controladores no estándar).
    sólo se detectan en los controladores no estándar):</p>
  <table>
    <tbody>
      <tr>
        <th>Constante</th>
        <th>Descripción</th>
      </tr>
      <tr>
        <td><tt>gp_face1</tt></td>
        <td>Botón superior 1 (corresponde a la <i>&quot;A&quot; de un</i> mando de Xbox 360 y a la cruz de un mando de <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face2</tt></td>
        <td>Botón superior 2 (corresponde a la <i>&quot;B&quot; de un</i> mando de Xbox 360 y al círculo de <i>un</i> mando de <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face3</tt></td>
        <td>Botón superior 3 (corresponde a la <i>&quot;X&quot; de un</i> mando de Xbox 360 y al cuadrado de <i>un</i> mando de <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face4</tt></td>
        <td>Botón superior 4 (corresponde a la <i>&quot;Y&quot; de un</i> mando de Xbox 360 y al triángulo <i>de un</i> mando de <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderl</tt></td>
        <td>Botón del hombro izquierdo</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderlb</tt></td>
        <td>Gatillo del hombro izquierdo</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderr</tt></td>
        <td>Botón del hombro derecho</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderrb</tt></td>
        <td>Gatillo del hombro derecho</td>
      </tr>
      <tr>
        <td><tt>gp_select</tt></td>
        <td>El botón de selección (es el botón <i>PS</i> en un mando DS4)</td>
      </tr>
      <tr>
        <td><tt>gp_start</tt></td>
        <td>El botón de inicio (es el botón de &quot;opciones&quot; en un mando de PS4)</td>
      </tr>
      <tr>
        <td><tt>gp_stickl</tt></td>
        <td>El stick izquierdo pulsado (como un botón)</td>
      </tr>
      <tr>
        <td><tt>gp_stickr</tt></td>
        <td>El stick derecho pulsado (como un botón)</td>
      </tr>
      <tr>
        <td><tt>gp_padu</tt></td>
        <td>D-pad arriba</td>
      </tr>
      <tr>
        <td><tt>gp_padd</tt></td>
        <td>Control D hacia abajo</td>
      </tr>
      <tr>
        <td><tt>gp_padl</tt></td>
        <td>Control izquierdo del D-pad</td>
      </tr>
      <tr>
        <td><tt>gp_padr</tt></td>
        <td>D-pad derecho</td>
      </tr>
      <tr>
        <td><tt>gp_axislh</tt></td>
        <td>Eje horizontal del stick izquierdo (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axislv</tt></td>
        <td>Eje vertical del stick izquierdo (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrh</tt></td>
        <td>Eje horizontal del stick derecho (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrv</tt></td>
        <td>Eje vertical del stick derecho (analógico)</td>
      </tr>
    </tbody>
  </table>
  <p>Para entender mejor qué parte del controlador representa cada constante, puedes consultar la siguiente imagen de un gamepad XInput estándar:</p>
  <p><img alt="Xinput gamepad illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Game_Input/GamePad.png" /></p>
  <p>Las siguientes constantes pueden utilizarse con la función <tt><a href="gamepad_axis_value.htm">gamepad_axis_value()</a></tt> cuando se utiliza el gamepad DualSense en una PS4 o PS5:</p>
  <table>
    <tbody>
      <tr>
        <th>Constante</th>
        <th>Descripción</th>
      </tr>
      <tr>
        <td><tt>gp_eje_aceleración_x</tt></td>
        <td>La aceleración del gamepad en el eje X</td>
      </tr>
      <tr>
        <td><tt>eje_gp_aceleración_y</tt></td>
        <td>La aceleración del gamepad en el eje Y</td>
      </tr>
      <tr>
        <td><tt>gp_eje_aceleración_z</tt></td>
        <td>La aceleración del gamepad en el eje Z</td>
      </tr>
      <tr>
        <td><tt>eje_gp_velocidad_angular_x</tt></td>
        <td>La velocidad angular del gamepad en el eje X</td>
      </tr>
      <tr>
        <td><tt>eje_gp_velocidad_angular_y</tt></td>
        <td>La velocidad angular del gamepad en el eje Y</td>
      </tr>
      <tr>
        <td><tt>eje_gp_velocidad_angular_z</tt></td>
        <td>La velocidad angular del gamepad en el eje Z</td>
      </tr>
      <tr>
        <td><tt>gp_orientación_del_eje_x</tt></td>
        <td>La orientación X del gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_orientación_del_eje_y</tt></td>
        <td>La orientación Y del gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_orientación_del_eje_z</tt></td>
        <td>La orientación Z del gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_orientación_del_eje_w</tt></td>
        <td>La orientación W del gamepad</td>
      </tr>
    </tbody>
  </table>
  <p class="note"><strong>NOTA</strong>: La orientación del gamepad es un Quaternion <a href="https://en.wikipedia.org/wiki/Quaternion" title="Quaternion">,</a> por lo que tiene cuatro valores (X, Y, Z y W).</p>
  <p>Estas constantes sólo se admiten actualmente en PS4 y PS5, y cuando se utilizan en otras plataformas las funciones de entrada devolverán <tt>0</tt>, incluso cuando se utiliza un gamepad DualSense.</p>
  <h2>Funciones</h2>
  <p>A continuación puedes encontrar una lista de todas las funciones del gamepad:</p>
  <ul class="colour">
    <li><a href="gamepad_is_supported.htm">gamepad_is_supported</a></li>
    <li><a href="gamepad_is_connected.htm">gamepad_is_connected</a></li>
    <li><a href="gamepad_get_guid.htm">gamepad_get_guid</a></li>
    <li><a href="gamepad_get_device_count.htm">gamepad_get_device_count</a></li>
    <li><a href="gamepad_get_description.htm">gamepad_get_description</a></li>
    <li><a href="gamepad_get_button_threshold.htm">gamepad_get_button_threshold</a></li>
    <li><a href="gamepad_get_axis_deadzone.htm">gamepad_get_axis_deadzone</a></li>
    <li><a href="gamepad_get_option.htm">gamepad_get_option</a></li>
    <li><a href="gamepad_set_button_threshold.htm">gamepad_set_button_threshold</a></li>
    <li><a href="gamepad_set_axis_deadzone.htm">gamepad_set_axis_deadzone</a></li>
    <li><a href="gamepad_set_vibration.htm">gamepad_set_vibration</a></li>
    <li><a href="gamepad_set_colour.htm">gamepad_set_colour</a></li>
    <li><a href="gamepad_set_option.htm">gamepad_set_option</a></li>
    <li><a href="gamepad_axis_count.htm">gamepad_axis_count</a></li>
    <li><a href="gamepad_axis_value.htm">gamepad_axis_value</a></li>
    <li><a href="gamepad_button_check.htm">gamepad_button_check</a></li>
    <li><a href="gamepad_button_check_pressed.htm">gamepad_button_check_pressed</a></li>
    <li><a href="gamepad_button_check_released.htm">gamepad_button_check_released</a></li>
    <li><a href="gamepad_button_count.htm">gamepad_button_count</a></li>
    <li><a href="gamepad_button_value.htm">gamepad_button_value</a></li>
    <li><a href="gamepad_hat_count.htm">gamepad_hat_count</a></li>
    <li><a href="gamepad_hat_value.htm">gamepad_hat_value</a></li>
  </ul>
  <p> </p>
  <p>Las siguientes funciones de gamepad también existen y se utilizan para reasignar las constantes incorporadas a las entradas físicas directas de un gamepad determinado. Estas funciones son sólo para las plataformas de destino <span class="notranslate">Windows</span> Desktop, <span class="notranslate">Ubuntu</span>, <span class="notranslate">macOS</span> y <span class="notranslate">Android</span> y en <span class="notranslate">Windows</span>
    sólo serán válidas para los dispositivos de entrada directa. Mientras que <span class="notranslate">GameMaker Studio 2</span> viene con mapeos para un número de gamepads diferentes basados en <a href="https://github.com/gabomdq/SDL_GameControllerDB" target="_blank">SDL Gamepad Controller DB</a>, sin embargo
    debido al gran número de tipos y marcas de mandos que existen, es imposible asignar las constantes <span class="notranslate">GML</span> a las entradas correctas para cada marca y modelo, por lo que con estas funciones tienes la posibilidad de crear tus propias asignaciones personalizadas.</p>
  <p> </p>
  <ul class="colour">
    <li><a href="gamepad_get_mapping.htm">gamepad_get_mapping</a></li>
    <li><a href="gamepad_test_mapping.htm">gamepad_test_mapping</a></li>
    <li><a href="gamepad_remove_mapping.htm">gamepad_remove_mapping</a></li>
  </ul>
  <p> </p>
  <p>Vale la pena señalar que los gamepads Direct Input se ejecutan en <i>modo cooperativo</i>, lo que significa que su juego sólo tiene acceso a ellos cuando es la aplicación en primer plano, lo que a su vez hará que los controladores Direct Input se &quot;pierdan&quot; si el
    si el juego pierde el foco y luego se &quot;encuentran&quot; de nuevo cuando se vuelve a enfocar (esto puede ser detectado en el evento del sistema y tratado). Del mismo modo, no se detectará ninguna entrada de los gamepads mientras el juego no esté enfocado, y recomendamos que
    utilizar la función <a href="../../OS_And_Compiler/os_is_paused.htm"><tt>os_is_paused()</tt></a> o <a href="../../Cameras_And_Display/The_Game_Window/window_has_focus.htm"><tt>window_has_focus()</tt></a> para detectar esto y pausar el juego o algo similar.
    similar, ya que cualquier botón que se mantenga pulsado en el momento en que el juego pierda el foco, mantendrá el estado de pulsación hasta que el juego recupere el foco.</p>
  <p> </p>
  <h2>Compatibilidad</h2>
  <p>La siguiente lista muestra la compatibilidad actual entre las plataformas (tenga en cuenta que esto cambiará con futuras actualizaciones):</p>
  <ul class="colour">
    <li><strong><span class="notranslate">Windows</span> </strong>es totalmente compatible con un máximo de 12 dispositivos conectados a la vez (numerados de 0 a 11, siendo 0 - 3 dispositivos XInput y 4 - 11 DirectInput). También se permite reasignar las constantes del controlador.</li>
    <li><strong><span class="notranslate">macOS</span> </strong>es compatible con un máximo de 4 dispositivos conectados a la vez, y estos dispositivos SOLO pueden ser del tipo <span class="notranslate">Playstation3</span>o Xbox 360. Tenga en cuenta que la opción &quot;Build for Mac AppStore&quot; en Mac Game Options
      debe estar desactivada para que el soporte de pads funcione. También se permite reasignar las constantes del mando.</li>
    <li><strong><span class="notranslate">Ubuntu</span> </strong>también es compatible con la entrada del Gamepad, pero es posible que tenga que instalar bibliotecas adicionales desde el repositorio de <span class="notranslate">Ubuntu</span>. Puedes hacerlo fácilmente abriendo un terminal de línea de comandos y escribiendo lo siguiente (esto instalará el soporte de GUI
      para el joystick/gamepad así como la propia API del joystick/gamepad - <i>no</i> se permite la reasignación de las constantes del controlador):
     <p class="code">sudo apt-get install jstest-gtk<br> sudo apt-get install joystick.</p>
    </li>
    <li>Los juegos<strong>HTML5 </strong>que utilizan gamepads son compatibles con la mayoría de los navegadores, excepto <i>Safari</i>. <i>No</i> se permite reasignar las constantes del controlador.</li>
    <li>La compatibilidad con el gamepad también se extiende a <strong><span class="notranslate">iOS</span> </strong>con el gabinete iCade. El eje izquierdo se corresponde con el stick del mando (aunque la entrada es digital, no analógica), los cuatro botones de la &quot;cara&quot; se corresponden con los botones frontales de la caja, y los cuatro
      botones del hombro se corresponden con los de la parte trasera de la caja.</li>
    <li><strong><span class="notranslate">Android</span> </strong>(y <strong><span class="notranslate">Amazon Fire</span></strong>) es compatible con los mandos NYKO y los mandos Bluetooth genéricos, pero sólo cuando están activados, lo que significa que tendrás que marcar la opción iCade/Bluetooth en la sección <a href="../../../../Settings/Game_Options/Android.htm">General</a> de las Opciones de Juego <span class="notranslate">de Android</span>. Requieren el nivel 12 de la API para que funcionen plenamente y hay que tener en cuenta que <span class="notranslate">GameMaker Studio 2</span> registrará como conectado cualquier dispositivo Bluetooth con el que esté emparejado tu dispositivo, esté o no realmente
      conectado. Por lo tanto, esto debe tenerse en cuenta a la hora de asignar y comprobar los &quot;slots&quot;. Tenga en cuenta que la reasignación de las constantes del controlador también está permitida.</li>
    <li>En <strong>PS4</strong>, si quieres usar el seguimiento del touch pad tienes que usar los <a href="../Device_Input/Device_Input.htm"><tt>dispositivo_ratón_*</tt></a> botones. <i>No</i> se permite reasignar las constantes del controlador.</li>
    <li>En <strong><span class="notranslate">Windows</span> </strong><strong>UWP</strong>, <strong>XBoxOne </strong>y <strong><span class="notranslate">Nintendo</span> <span class="notranslate">Switch</span></strong> objetivos, los gamepads son totalmente compatibles, pero <i>no</i> se permite la reasignación de las constantes del mando.</li>
  </ul>
  <p>Idealmente, en <i>todas las</i> plataformas de destino, usted quiere enumerar una lista de &quot;ranuras&quot; de gamepad disponibles y luego comprobarlas para ver si se detecta algún dispositivo, algo así:</p>
  <p class="code">var _maxpads = gamepad_get_device_count();<br>
    <br> for (var i = 0; i &lt; _maxpads; i++)<br> {
    <br> if (gamepad_is_connected(i))<br> {
    <br> // hacer cosas con el pad &quot;i&quot;<br> }
    <br> }
  </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Atrás: <a href="../Game_Input.htm">Entrada del juego</a></div>
        <div style="float:right">Siguiente: <a href="../Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">Teclas y teclados virtuales</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Todos los derechos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Gamepad Input Functions
gp_face1
gp_face2
gp_face3
gp_face4
gp_shoulderl
gp_shoulderlb
gp_shoulderr
gp_shoulderrb
gp_select
gp_start
gp_stickl
gp_stickr
gp_padu
gp_padd
gp_padl
gp_padr
gp_axislh
gp_axislv
gp_axisrh
gp_axisrv
gp_axis_acceleration_x
gp_axis_acceleration_y
gp_axis_acceleration_z
gp_axis_angular_velocity_x
gp_axis_angular_velocity_y
gp_axis_angular_velocity_z
gp_axis_orientation_x
gp_axis_orientation_y
gp_axis_orientation_z
gp_axis_orientation_w
-->
  <!-- TAGS
gamepad_functions
-->
</body>
</html>
<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_add</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function sprite_add" />
  <meta name="rh-index-keywords" content="sprite_add" />
  <meta name="search-keywords" content="sprite_add" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>sprite_add</h1>
  <p>Con esta función puedes añadir una imagen como sprite, cargándola desde una fuente externa donde el archivo de imagen a cargar debe estar <b>siempre</b> en formato <tt>*.png</tt>, <tt>*.gif</tt>, <tt>*.jpg/jpeg</tt> o <tt>*.json</tt> (los archivos<tt>*json</tt> se utilizan para cargar <a href="../Skeletal_Animation/Skeletal_Animation.htm">sprites de animación de esqueleto</a> hechos con Spine). La función devuelve el nuevo índice del sprite que debe ser utilizado en todo el código posterior que se relacione con el sprite. Si
    se utiliza esta función con HTML5 o se obtiene una imagen de una URL, esta función también generará un evento asíncrono de <b>Imagen Cargada</b>. Consulte <a href="../../../../../The_Asset_Editors/Object_Properties/Async_Events/Image_Loaded.htm">esta página</a> para
    más información.</p>
  <p>Todas las imágenes que se van a convertir en sprites animados -excepto las <tt>*.gif</tt> (ver más abajo)- deben tener un formato de &quot;tira&quot; (ver la imagen de abajo) y se dividirá en el número de <b>subimágenes</b> especificado siguiendo la regla <b>ancho</b> del sprite <b>= ancho de la tira / subimágenes.</b></p>
  <p><img alt="Example Sprite Strip" class="center" src="../../../../../assets/Images/Scripting_Reference/GML/Reference/Sprites/spr_strip.png" /></p>
  <p>Como puedes ver en la imagen anterior, el sprite ha sido colocado sobre un fondo púrpura oscuro, y esto puede ser eliminado estableciendo el argumento &quot;removeback&quot; a true. Esto funciona comprobando el píxel <i>inferior izquierdo</i> del sprite para
    el color del sprite y lo utiliza como el color a eliminar. Por ejemplo, en la imagen anterior, si tuviéramos el color del píxel inferior izquierdo como verde, todas las partes verdes del sprite se habrían eliminado y el resto del fondo púrpura se habría ignorado.</p>
  <p>Si eliges la opción &quot;removeback&quot;, puede que también quieras <span class="notranslate">que</span> GameMaker <span class="notranslate">Studio 2 suavice</span> los bordes del sprite estableciendo el argumento &quot;smooth&quot; en true. Todo lo que esto hace es crear un borde semi-transparente alrededor de los bordes de
    el sprite después de haber eliminado su fondo.</p>
  <p>Por último, también puedes especificar el <i>origen</i> x e y del sprite. Este es el punto en el que el sprite se &quot;fija&quot; en la instancia que lo utiliza, y siempre se calcula como relativo a la esquina superior izquierda 0,0 de una subimagen del sprite. Por lo tanto,
    por ejemplo, un sprite de 32 x 32 píxeles con estos valores establecidos en (16,16) tendrá su origen en el centro.</p>
  <p>Si está añadiendo una imagen en formato <tt>*.gif</tt>, sólo necesita especificar el nombre del archivo y el número de la imagen (que debe ser 1 para el primer fotograma) y puede dejar todos los demás argumentos como 0, teniendo en cuenta que <b>sólo se cargará la primera imagen del GIF</b>.
    Para los sprites <tt>*.json</tt>, el número de imagen debe ser 1, y los ajustes &quot;removeback&quot; y &quot;smooth&quot; serán ignorados.</p>
  <p>Por defecto, todos los nuevos sprites tienen sus cajas delimitadoras calculadas automáticamente (la caja delimitadora exacta dependerá del tamaño y la transparencia del sprite), sin embargo, es posible que desee personalizar esto, en cuyo caso también debe utilizar la función
    <a href="sprite_collision_mask.htm"><tt>sprite_collision_mask()</tt></a>.</p>
  <p>Hay que tener en cuenta que la memoria utilizada al añadir un sprite de esta manera será mayor de lo que se puede esperar. Esto se debe a que <span class="notranslate">GameMaker Studio 2</span> almacenará el sprite como una página de textura <i>y</i> también se almacenará en la memoria de la GPU, por lo que la memoria total
    será mayor de lo que cabría esperar para un archivo de imagen del mismo sprite.</p>
  <p class="note"><b>NOTA</b>: Cuando cargues un sprite en <span class="notranslate">GameMaker Studio 2</span> debes recordar eliminarlo de nuevo (con <a href="sprite_delete.htm"><tt>sprite_delete()</tt></a>) cuando ya no lo necesite, de lo contrario existe el riesgo de una fuga de memoria que ralentizará y
    que ralentizará y eventualmente bloqueará su juego.</p>
  <p class="note"><b>NOTA</b>: En <b><span class="notranslate">iOS</span></b>si está cargando un archivo incluido desde una carpeta, es decir, con una ruta como &quot;<span style="font-size:1px;"><tt>Fondos/fondo1.png</tt></span>&quot;, NO es necesario incluir la carpeta como parte de la ruta
    y basta con indicar el nombre del archivo. En todas las demás plataformas, debe proporcionar la(s) carpeta(s) como parte de la ruta del archivo.</p>
  <p class="note"><b>NOTA</b>: En <b>HTML5</b>, si está cargando un sprite desde un servidor seguro, es posible que tenga que establecer el tipo de origen cruzado y utilizar una ruta relativa en lugar de una ruta absoluta. Consulte <span style="font-size:1px;"><a href="../../../Asynchronous_Functions/HTTP/http_set_request_crossorigin.htm"><tt style="font-size: 14px">http_set_request_crossorigin()</tt></a></span> para
    más detalles.</p>
  <p> </p>
  <h4>Sintaxis:</h4>
  <p class="code">sprite_add(fname, imgnumb, removeback, smooth, xorig, yorig);</p>
  <table>
    <tbody>
      <tr>
        <th>Argumento</th>
        <th>Descripción</th>
      </tr>
      <tr>
        <td>fname</td>
        <td>El nombre (una cadena de ruta de archivo) del archivo a añadir.</td>
      </tr>
      <tr>
        <td>imgnum</td>
        <td>Sirve para indicar el número de subimágenes (1 para una sola imagen o para un <tt>*.gif</tt>).</td>
      </tr>
      <tr>
        <td>quitar la espalda</td>
        <td>Indica si se deben hacer transparentes todos los píxeles con el color de fondo (píxel inferior izquierdo).</td>
      </tr>
      <tr>
        <td>suave</td>
        <td>Indica si se deben suavizar los bordes si son transparentes.</td>
      </tr>
      <tr>
        <td>xorig</td>
        <td>Indica la posición x del origen en el sprite.</td>
      </tr>
      <tr>
        <td>yorig</td>
        <td>Indica la posición y del origen en el sprite.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Devuelve:</h4>
  <p class="code">Real (valor de identificación del sprite)</p>
  <p> </p>
  <h4>Ejemplo:</h4>
  <p class="code">spr = sprite_add(&quot;jugador_5.png&quot;, 16, true, true, 0, 0);</p>
  <p>El código anterior carga un sprite en el juego y almacena su índice en la variable &quot;spr&quot;.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Atrás: <a href="Sprite_Manipulation.htm">Manipulación de sprites</a></div>
        <div style="float:right">Siguiente: <a href="sprite_replace.htm">sprite_replace</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Todos los derechos reservados</span></h5>
  </div>
  <!-- KEYWORDS
sprite_add
-->
  <!-- TAGS
sprite_add
-->
</body>
</html>